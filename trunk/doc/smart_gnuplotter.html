
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Python: module smart_gnuplotter</title>
</head><body bgcolor="#f0f0f8">

<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="heading">
<tr bgcolor="#7799ee">
<td valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial">&nbsp;<br><big><big><strong>smart_gnuplotter</strong></big></big></font></td
><td align=right valign=bottom
><font color="#ffffff" face="helvetica, arial"><a href=".">index</a><br><a href="file:/home/tau/sproj/smart-gnuplotter/src/smart_gnuplotter.py">/home/tau/sproj/smart-gnuplotter/src/smart_gnuplotter.py</a></font></td></tr></table>
    <p></p>
<p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#aa55cc">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Modules</strong></big></font></td></tr>
    
<tr><td bgcolor="#aa55cc"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><table width="100%" summary="list"><tr><td width="25%" valign=top><a href="math.html">math</a><br>
<a href="os.html">os</a><br>
</td><td width="25%" valign=top><a href="re.html">re</a><br>
<a href="sqlite3.html">sqlite3</a><br>
</td><td width="25%" valign=top><a href="sys.html">sys</a><br>
<a href="traceback.html">traceback</a><br>
</td><td width="25%" valign=top><a href="types.html">types</a><br>
</td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ee77aa">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Classes</strong></big></font></td></tr>
    
<tr><td bgcolor="#ee77aa"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl>
<dt><font face="helvetica, arial"><a href="smart_gnuplotter.html#confidence_interval">confidence_interval</a>
</font></dt><dd>
<dl>
<dt><font face="helvetica, arial"><a href="smart_gnuplotter.html#cimax">cimax</a>
</font></dt><dt><font face="helvetica, arial"><a href="smart_gnuplotter.html#cimin">cimin</a>
</font></dt></dl>
</dd>
<dt><font face="helvetica, arial"><a href="smart_gnuplotter.html#graph_attributes">graph_attributes</a>
</font></dt><dt><font face="helvetica, arial"><a href="smart_gnuplotter.html#plots_spec">plots_spec</a>
</font></dt><dt><font face="helvetica, arial"><a href="smart_gnuplotter.html#smart_gnuplotter">smart_gnuplotter</a>
</font></dt></dl>
 <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="cimax">class <strong>cimax</strong></a>(<a href="smart_gnuplotter.html#confidence_interval">confidence_interval</a>)</font></td></tr>
    
<tr><td bgcolor="#ffc8d8"><tt>&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%">Methods inherited from <a href="smart_gnuplotter.html#confidence_interval">confidence_interval</a>:<br>
<dl><dt><a name="cimax-__init__"><strong>__init__</strong></a>(self)</dt></dl>

<dl><dt><a name="cimax-finalize"><strong>finalize</strong></a>(self)</dt></dl>

<dl><dt><a name="cimax-step"><strong>step</strong></a>(self, value, sl)</dt></dl>

</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="cimin">class <strong>cimin</strong></a>(<a href="smart_gnuplotter.html#confidence_interval">confidence_interval</a>)</font></td></tr>
    
<tr><td bgcolor="#ffc8d8"><tt>&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%">Methods inherited from <a href="smart_gnuplotter.html#confidence_interval">confidence_interval</a>:<br>
<dl><dt><a name="cimin-__init__"><strong>__init__</strong></a>(self)</dt></dl>

<dl><dt><a name="cimin-finalize"><strong>finalize</strong></a>(self)</dt></dl>

<dl><dt><a name="cimin-step"><strong>step</strong></a>(self, value, sl)</dt></dl>

</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="confidence_interval">class <strong>confidence_interval</strong></a></font></td></tr>
    
<tr><td bgcolor="#ffc8d8"><tt>&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="confidence_interval-__init__"><strong>__init__</strong></a>(self)</dt></dl>

<dl><dt><a name="confidence_interval-finalize"><strong>finalize</strong></a>(self)</dt></dl>

<dl><dt><a name="confidence_interval-step"><strong>step</strong></a>(self, value, sl)</dt></dl>

</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="graph_attributes">class <strong>graph_attributes</strong></a></font></td></tr>
    
<tr><td bgcolor="#ffc8d8"><tt>&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="graph_attributes-__init__"><strong>__init__</strong></a>(self, kw, sg)</dt></dl>

</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="plots_spec">class <strong>plots_spec</strong></a></font></td></tr>
    
<tr><td bgcolor="#ffc8d8"><tt>&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="plots_spec-__init__"><strong>__init__</strong></a>(self, expr, kw, sg)</dt></dl>

</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="smart_gnuplotter">class <strong>smart_gnuplotter</strong></a></font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt><a href="#smart_gnuplotter">smart_gnuplotter</a>&nbsp;provides&nbsp;a&nbsp;higher&nbsp;level&nbsp;interface&nbsp;to&nbsp;gnuplot,<br>
making&nbsp;it&nbsp;particularly&nbsp;easy&nbsp;to&nbsp;generate&nbsp;many&nbsp;graphs&nbsp;of&nbsp;many<br>
plots&nbsp;with&nbsp;a&nbsp;single&nbsp;command.&nbsp;&nbsp;A&nbsp;basic&nbsp;example&nbsp;is&nbsp;as&nbsp;follows:<br>
&nbsp;<br>
g&nbsp;=&nbsp;<a href="#smart_gnuplotter">smart_gnuplotter</a>()<br>
g.<a href="#smart_gnuplotter-graphs">graphs</a>('sin(x)')<br>
&nbsp;<br>
You&nbsp;will&nbsp;see&nbsp;the&nbsp;plot&nbsp;of&nbsp;sin(x)&nbsp;on&nbsp;display,&nbsp;just&nbsp;as&nbsp;you&nbsp;will<br>
when&nbsp;you&nbsp;type<br>
&nbsp;&nbsp;&nbsp;plot&nbsp;sin(x)<br>
to&nbsp;gnuplot.<br>
&nbsp;<br>
More&nbsp;interestingly,&nbsp;you&nbsp;can&nbsp;generate&nbsp;multiple&nbsp;plots&nbsp;by&nbsp;giving<br>
a&nbsp;parameterized&nbsp;expression&nbsp;and&nbsp;values&nbsp;for&nbsp;the&nbsp;pameters.&nbsp;For&nbsp;<br>
example,<br>
&nbsp;<br>
g.<a href="#smart_gnuplotter-graphs">graphs</a>('sin(%(a)s&nbsp;*&nbsp;x)',&nbsp;a=[1,2,3])<br>
&nbsp;<br>
will&nbsp;show&nbsp;you&nbsp;three&nbsp;plots&nbsp;sin(1&nbsp;*&nbsp;x),&nbsp;sin(2&nbsp;*&nbsp;x),&nbsp;and&nbsp;sin(3&nbsp;*&nbsp;x).<br>
It&nbsp;is&nbsp;as&nbsp;if&nbsp;you&nbsp;type&nbsp;<br>
&nbsp;&nbsp;&nbsp;plot&nbsp;sin(1&nbsp;*&nbsp;x),sin(2&nbsp;*&nbsp;x),sin(3&nbsp;*&nbsp;x)<br>
to&nbsp;gnuplot.&nbsp;&nbsp;You&nbsp;may&nbsp;have&nbsp;multiple&nbsp;parameters,&nbsp;in&nbsp;which&nbsp;case<br>
all&nbsp;combinations&nbsp;are&nbsp;generated.<br>
&nbsp;<br>
Finally,&nbsp;you&nbsp;can&nbsp;generate&nbsp;multiple&nbsp;graphs&nbsp;by&nbsp;specifying&nbsp;some&nbsp;of<br>
parameters&nbsp;as&nbsp;"graph_vars".&nbsp;For&nbsp;example,<br>
&nbsp;<br>
g.<a href="#smart_gnuplotter-graphs">graphs</a>('sin(%(a)s&nbsp;*&nbsp;x&nbsp;+&nbsp;%(b)s&nbsp;*&nbsp;pi)',&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a=[1,2],&nbsp;b=[0.0,&nbsp;0.2],&nbsp;graph_vars=['a'])<br>
&nbsp;<br>
will&nbsp;generate&nbsp;two&nbsp;graphs,&nbsp;one&nbsp;for&nbsp;a=1&nbsp;and&nbsp;the&nbsp;other&nbsp;for&nbsp;a=2.<br>
Each&nbsp;graph&nbsp;has&nbsp;two&nbsp;plots,&nbsp;one&nbsp;for&nbsp;b=0.0&nbsp;and&nbsp;the&nbsp;other&nbsp;for&nbsp;0.2<br>
&nbsp;<br>
You&nbsp;can&nbsp;give&nbsp;to&nbsp;the&nbsp;first&nbsp;argument&nbsp;either<br>
(1)&nbsp;python&nbsp;string&nbsp;(e.g.,&nbsp;'sin(x)',&nbsp;'"data.txt"',&nbsp;'"&lt;&nbsp;cut&nbsp;-b&nbsp;9-19&nbsp;file.txt"'),&nbsp;<br>
which&nbsp;are&nbsp;simply&nbsp;passed&nbsp;to&nbsp;gnuplot's&nbsp;plot&nbsp;command<br>
(2)&nbsp;python&nbsp;list,&nbsp;which&nbsp;are&nbsp;passed&nbsp;to&nbsp;gnuplot&nbsp;as&nbsp;in-place&nbsp;data&nbsp;(plot&nbsp;'-')<br>
(3)&nbsp;python&nbsp;tuple,&nbsp;which&nbsp;are&nbsp;treated&nbsp;as&nbsp;q&nbsp;query&nbsp;to&nbsp;sqlite3&nbsp;database<br>
and&nbsp;the&nbsp;query&nbsp;results&nbsp;are&nbsp;passed&nbsp;to&nbsp;gnuplot&nbsp;as&nbsp;in-place&nbsp;data<br>
&nbsp;<br>
The&nbsp;last&nbsp;feature,&nbsp;combined&nbsp;with&nbsp;the&nbsp;parameterization,&nbsp;makes&nbsp;it&nbsp;<br>
particularly&nbsp;powerful&nbsp;to&nbsp;show&nbsp;data&nbsp;in&nbsp;database&nbsp;from&nbsp;various&nbsp;angles<br>
and&nbsp;with&nbsp;various&nbsp;data&nbsp;selection&nbsp;criterion.<br>
&nbsp;<br>
You&nbsp;may&nbsp;overlay&nbsp;multiple&nbsp;different&nbsp;plots&nbsp;in&nbsp;the&nbsp;following&nbsp;step.<br>
g.<a href="#smart_gnuplotter-set_graph_attrs">set_graph_attrs</a>()<br>
g.<a href="#smart_gnuplotter-add_plots">add_plots</a>('sin(%(a)s&nbsp;*&nbsp;x)',&nbsp;a=[1,2])<br>
g.<a href="#smart_gnuplotter-add_plots">add_plots</a>('%(b)s&nbsp;*&nbsp;x&nbsp;*&nbsp;x',&nbsp;b=[3,4])<br>
g.<a href="#smart_gnuplotter-show_graphs">show_graphs</a>()<br>
&nbsp;<br>
Essentially,&nbsp;g.<a href="#smart_gnuplotter-graphs">graphs</a>(expr)&nbsp;is&nbsp;a&nbsp;shortcut&nbsp;of&nbsp;the&nbsp;above<br>
&nbsp;<br>
g.<a href="#smart_gnuplotter-set_graph_attrs">set_graph_attrs</a>()<br>
g.<a href="#smart_gnuplotter-add_plots">add_plots</a>(expr)<br>
g.<a href="#smart_gnuplotter-show_graphs">show_graphs</a>()<br>
&nbsp;<br>
There&nbsp;are&nbsp;ways&nbsp;to&nbsp;specify&nbsp;whatever&nbsp;attributes&nbsp;you&nbsp;can&nbsp;specify&nbsp;with<br>
gnuplot.&nbsp;&nbsp;Changing&nbsp;a&nbsp;terminal&nbsp;for&nbsp;all&nbsp;graphs&nbsp;takes&nbsp;a&nbsp;single&nbsp;line.<br>
See&nbsp;the&nbsp;explanation&nbsp;of&nbsp;the&nbsp;following&nbsp;methods&nbsp;for&nbsp;details.<br>
&nbsp;<br>
<a href="#smart_gnuplotter-set_graph_attrs">set_graph_attrs</a>()<br>
<a href="#smart_gnuplotter-add_plots">add_plots</a>()<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="smart_gnuplotter-__init__"><strong>__init__</strong></a>(self)</dt></dl>

<dl><dt><a name="smart_gnuplotter-add_plots"><strong>add_plots</strong></a>(self, expr, **kw)</dt><dd><tt>expr&nbsp;:&nbsp;an&nbsp;expression&nbsp;to&nbsp;plot.&nbsp;&nbsp;see&nbsp;below&nbsp;for&nbsp;accepted&nbsp;values<br>
&nbsp;<br>
This&nbsp;method&nbsp;lets&nbsp;expr&nbsp;to&nbsp;be&nbsp;drawn&nbsp;in&nbsp;each&nbsp;of&nbsp;the&nbsp;graphs&nbsp;<br>
generated&nbsp;when&nbsp;you&nbsp;call&nbsp;<a href="#smart_gnuplotter-show_graphs">show_graphs</a>()&nbsp;next&nbsp;time.&nbsp;&nbsp;For&nbsp;example,<br>
&nbsp;<br>
g&nbsp;=&nbsp;<a href="#smart_gnuplotter">smart_gnuplotter</a>()<br>
g.<a href="#smart_gnuplotter-set_graph_attrs">set_graph_attrs</a>()<br>
g.<a href="#smart_gnuplotter-add_plots">add_plots</a>("sin(x)")<br>
g.<a href="#smart_gnuplotter-show_graphs">show_graphs</a>()<br>
&nbsp;<br>
will&nbsp;plot&nbsp;sin(x).<br>
&nbsp;<br>
You&nbsp;may&nbsp;set&nbsp;various&nbsp;attributes&nbsp;of&nbsp;the&nbsp;plot.&nbsp;&nbsp;For&nbsp;example,<br>
&nbsp;<br>
g.<a href="#smart_gnuplotter-add_plots">add_plots</a>("sin(x)",&nbsp;plot_title="sin")<br>
&nbsp;<br>
will&nbsp;set&nbsp;the&nbsp;title&nbsp;of&nbsp;the&nbsp;plot&nbsp;to&nbsp;"sin".<br>
&nbsp;<br>
Expression,&nbsp;as&nbsp;well&nbsp;as&nbsp;the&nbsp;attributes,&nbsp;may&nbsp;be&nbsp;parameterized<br>
(may&nbsp;contain&nbsp;placeholders&nbsp;such&nbsp;as&nbsp;%(a)s,&nbsp;%(param)s,&nbsp;and&nbsp;so&nbsp;on),<br>
in&nbsp;which&nbsp;case&nbsp;you&nbsp;need&nbsp;to&nbsp;supply&nbsp;the&nbsp;values&nbsp;of&nbsp;these&nbsp;parameters.<br>
&nbsp;<br>
For&nbsp;example,<br>
&nbsp;<br>
g.<a href="#smart_gnuplotter-add_plots">add_plots</a>("sin(%(a)s&nbsp;*&nbsp;x)",&nbsp;plot_title="sin(%(a)sx)",<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a=[1,2,3])<br>
&nbsp;<br>
will&nbsp;plot&nbsp;sin(1*x),&nbsp;sin(2*x),&nbsp;and&nbsp;sin(3*x)&nbsp;in&nbsp;a&nbsp;single&nbsp;graph<br>
when&nbsp;you&nbsp;call&nbsp;<a href="#smart_gnuplotter-show_graphs">show_graphs</a>()&nbsp;next&nbsp;time.&nbsp;&nbsp;The&nbsp;title&nbsp;of&nbsp;each&nbsp;of<br>
them&nbsp;will&nbsp;be&nbsp;sin(1x),&nbsp;sin(2x),&nbsp;and&nbsp;sin(3x),&nbsp;respectively.<br>
&nbsp;<br>
The&nbsp;following&nbsp;is&nbsp;the&nbsp;attributes&nbsp;direcly&nbsp;supported&nbsp;by&nbsp;keyword<br>
arguments&nbsp;and&nbsp;their&nbsp;meanings.&nbsp;<br>
&nbsp;<br>
plot_title&nbsp;:&nbsp;title&nbsp;of&nbsp;the&nbsp;plot<br>
using&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;columns&nbsp;to&nbsp;plot&nbsp;in&nbsp;datafile.&nbsp;you&nbsp;may&nbsp;give<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;any&nbsp;string&nbsp;you&nbsp;may&nbsp;specify&nbsp;after&nbsp;'using'<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;a&nbsp;plot.<br>
plot_with&nbsp;&nbsp;:&nbsp;plot&nbsp;style.&nbsp;you&nbsp;may&nbsp;give&nbsp;any&nbsp;string&nbsp;you&nbsp;may&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;specify&nbsp;after&nbsp;the&nbsp;'with'&nbsp;in&nbsp;a&nbsp;plot.<br>
&nbsp;<br>
Besides,&nbsp;you&nbsp;may&nbsp;specify&nbsp;any&nbsp;string&nbsp;you&nbsp;may&nbsp;specify&nbsp;to&nbsp;modify<br>
your&nbsp;plot&nbsp;by&nbsp;'plot_attr'&nbsp;parameter.<br>
&nbsp;<br>
plot_attr&nbsp;&nbsp;:&nbsp;any&nbsp;string&nbsp;you&nbsp;may&nbsp;specify&nbsp;for&nbsp;a&nbsp;plot.<br>
&nbsp;<br>
Possible&nbsp;values&nbsp;for&nbsp;expr&nbsp;parameter:<br>
&nbsp;<br>
(1)&nbsp;a&nbsp;python&nbsp;string&nbsp;:&nbsp;this&nbsp;is&nbsp;simply&nbsp;passed&nbsp;to&nbsp;gnuplot's&nbsp;plot<br>
command.&nbsp;&nbsp;Gnuplot&nbsp;regularly&nbsp;interprets&nbsp;it&nbsp;as&nbsp;either&nbsp;an&nbsp;expression&nbsp;<br>
(e.g.,&nbsp;sin(x)),&nbsp;a&nbsp;datafile&nbsp;(e.g.,&nbsp;"data.txt"),&nbsp;or&nbsp;a&nbsp;command&nbsp;by&nbsp;gnuplot&nbsp;<br>
(e.g.,&nbsp;"&gt;&nbsp;grep&nbsp;....").<br>
&nbsp;<br>
(2)&nbsp;a&nbsp;python&nbsp;list&nbsp;of&nbsp;tuples&nbsp;:&nbsp;this&nbsp;is&nbsp;passed&nbsp;to&nbsp;gnuplot's&nbsp;plot<br>
command&nbsp;as&nbsp;in-place&nbsp;data.&nbsp;&nbsp;For&nbsp;example,&nbsp;if&nbsp;you&nbsp;give&nbsp;a&nbsp;list<br>
[&nbsp;(1,2),&nbsp;(3,4)&nbsp;],&nbsp;then&nbsp;it&nbsp;will&nbsp;be&nbsp;translated&nbsp;into:<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;plot&nbsp;'-'<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;2&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3&nbsp;4<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e<br>
&nbsp;<br>
(3)&nbsp;a&nbsp;python&nbsp;tuple&nbsp;:&nbsp;this&nbsp;is&nbsp;interpreted&nbsp;as&nbsp;a&nbsp;sqlite3&nbsp;query.<br>
specifically,&nbsp;it&nbsp;is&nbsp;a&nbsp;tuple&nbsp;of<br>
(database,&nbsp;query,&nbsp;init_stataments,&nbsp;init_file,&nbsp;functions,&nbsp;aggregates,&nbsp;collations),<br>
where&nbsp;everything&nbsp;other&nbsp;than&nbsp;database&nbsp;and&nbsp;query&nbsp;are&nbsp;optional.<br>
&nbsp;<br>
<a href="#smart_gnuplotter">smart_gnuplotter</a>&nbsp;connects&nbsp;to&nbsp;database,&nbsp;add&nbsp;user-defined<br>
functions/aggregates/collations&nbsp;as&nbsp;specified,&nbsp;execute&nbsp;SQL<br>
statements&nbsp;init_statements&nbsp;and&nbsp;those&nbsp;in&nbsp;init_file,&nbsp;and&nbsp;finally<br>
issue&nbsp;the&nbsp;query.&nbsp;&nbsp;The&nbsp;result&nbsp;is&nbsp;extracted&nbsp;as&nbsp;a&nbsp;list&nbsp;of&nbsp;tuples<br>
and&nbsp;the&nbsp;rest&nbsp;of&nbsp;the&nbsp;process&nbsp;is&nbsp;the&nbsp;same&nbsp;as&nbsp;(2).<br>
&nbsp;<br>
An&nbsp;example:&nbsp;<br>
g.<a href="#smart_gnuplotter-add_plots">add_plots</a>(("a.sqlite",&nbsp;"select&nbsp;a,b&nbsp;from&nbsp;T"))<br>
g.<a href="#smart_gnuplotter-add_plots">add_plots</a>(("a.sqlite",&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"select&nbsp;a,b&nbsp;from&nbsp;J",&nbsp;"create&nbsp;temp&nbsp;table&nbsp;J&nbsp;as&nbsp;select&nbsp;*&nbsp;from&nbsp;T&nbsp;natural&nbsp;join&nbsp;S"))<br>
g.<a href="#smart_gnuplotter-add_plots">add_plots</a>(("a.sqlite",&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"select&nbsp;a,b&nbsp;from&nbsp;J",&nbsp;"create&nbsp;temp&nbsp;table&nbsp;J&nbsp;as&nbsp;select&nbsp;*&nbsp;from&nbsp;T&nbsp;natural&nbsp;join&nbsp;S",<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"init.sql"))<br>
g.<a href="#smart_gnuplotter-add_plots">add_plots</a>(("a.sqlite",&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"select&nbsp;a,b&nbsp;from&nbsp;J",&nbsp;"create&nbsp;temp&nbsp;table&nbsp;J&nbsp;as&nbsp;select&nbsp;*&nbsp;from&nbsp;T&nbsp;natural&nbsp;join&nbsp;S",<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"init.sql"))<br>
&nbsp;<br>
functions,&nbsp;aggregates,&nbsp;and&nbsp;collations&nbsp;are&nbsp;lists.&nbsp;&nbsp;<br>
-&nbsp;Each&nbsp;element&nbsp;of&nbsp;functions&nbsp;is&nbsp;a&nbsp;triple&nbsp;(name,&nbsp;arity,&nbsp;python_function)<br>
which&nbsp;is&nbsp;translated&nbsp;into&nbsp;a&nbsp;call&nbsp;create_function(name,&nbsp;arity,&nbsp;python_function)<br>
on&nbsp;the&nbsp;sqlite3&nbsp;connection&nbsp;object.<br>
-&nbsp;Each&nbsp;element&nbsp;of&nbsp;aggregates&nbsp;is&nbsp;a&nbsp;triple&nbsp;(name,&nbsp;arity,&nbsp;python_class)<br>
which&nbsp;is&nbsp;translated&nbsp;into&nbsp;a&nbsp;call&nbsp;create_aggregate(name,&nbsp;arity,&nbsp;python_class)<br>
-&nbsp;Each&nbsp;element&nbsp;of&nbsp;collations&nbsp;is&nbsp;a&nbsp;pair&nbsp;(name,&nbsp;python_function)<br>
which&nbsp;is&nbsp;translated&nbsp;into&nbsp;a&nbsp;call&nbsp;create_collation(name,&nbsp;python_function).<br>
see&nbsp;the&nbsp;documentation&nbsp;of&nbsp;python&nbsp;sqltie3&nbsp;module.</tt></dd></dl>

<dl><dt><a name="smart_gnuplotter-do_sql"><strong>do_sql</strong></a>(self, database, query, init_statements<font color="#909090">=''</font>, init_file<font color="#909090">=''</font>, functions<font color="#909090">=[]</font>, aggregates<font color="#909090">=[]</font>, collations<font color="#909090">=[]</font>, single_row<font color="#909090">=0</font>, single_col<font color="#909090">=0</font>)</dt><dd><tt>database&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;string&nbsp;:&nbsp;filename&nbsp;of&nbsp;an&nbsp;sqlite3&nbsp;database&nbsp;<br>
init_statements&nbsp;:&nbsp;string&nbsp;:&nbsp;sql&nbsp;statement(s)&nbsp;to&nbsp;run<br>
init_file&nbsp;&nbsp;&nbsp;:&nbsp;string&nbsp;:&nbsp;filename&nbsp;containing&nbsp;sql&nbsp;statement(s)<br>
functions&nbsp;&nbsp;&nbsp;:&nbsp;list&nbsp;of&nbsp;(name,&nbsp;arity,&nbsp;function)&nbsp;specifying<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;user&nbsp;defined&nbsp;functions.&nbsp;they&nbsp;are&nbsp;passed&nbsp;as<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;create_function(name,&nbsp;arity,&nbsp;function)<br>
aggregates&nbsp;&nbsp;:&nbsp;list&nbsp;of&nbsp;(name,&nbsp;arity,&nbsp;function)&nbsp;specifying<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;user&nbsp;defined&nbsp;aggregates.&nbsp;they&nbsp;are&nbsp;passed&nbsp;as<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;create_aggregate(name,&nbsp;arity,&nbsp;function)<br>
collations&nbsp;&nbsp;:&nbsp;list&nbsp;of&nbsp;(name,&nbsp;function)&nbsp;specifying<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;user&nbsp;defined&nbsp;collations.&nbsp;they&nbsp;are&nbsp;passed&nbsp;as<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;create_collation(name,&nbsp;function)<br>
connect&nbsp;to&nbsp;sqlite3&nbsp;database&nbsp;database,&nbsp;<br>
add&nbsp;user&nbsp;defined&nbsp;functions/aggregates/callations,&nbsp;<br>
run&nbsp;init_statements&nbsp;and&nbsp;init_file,<br>
execute&nbsp;the&nbsp;query,<br>
and&nbsp;return&nbsp;the&nbsp;result.<br>
&nbsp;<br>
when&nbsp;single_row&nbsp;==&nbsp;0&nbsp;and&nbsp;single_col&nbsp;==&nbsp;0:<br>
&nbsp;&nbsp;it&nbsp;is&nbsp;returned&nbsp;as&nbsp;a&nbsp;list&nbsp;of&nbsp;tuples<br>
when&nbsp;single_row&nbsp;==&nbsp;1,<br>
&nbsp;&nbsp;it&nbsp;is&nbsp;assumed&nbsp;that&nbsp;the&nbsp;result&nbsp;has&nbsp;only&nbsp;a&nbsp;single&nbsp;row,<br>
&nbsp;&nbsp;and&nbsp;that&nbsp;row&nbsp;is&nbsp;returned<br>
when&nbsp;single_col&nbsp;==&nbsp;1,<br>
&nbsp;&nbsp;it&nbsp;is&nbsp;assumed&nbsp;that&nbsp;each&nbsp;row&nbsp;has&nbsp;a&nbsp;single&nbsp;column<br>
&nbsp;&nbsp;and&nbsp;each&nbsp;element&nbsp;of&nbsp;the&nbsp;list&nbsp;becomes&nbsp;that&nbsp;column<br>
&nbsp;&nbsp;instead&nbsp;of&nbsp;a&nbsp;singleton&nbsp;tuple.</tt></dd></dl>

<dl><dt><a name="smart_gnuplotter-graphs"><strong>graphs</strong></a>(self, expr, graph_vars<font color="#909090">=[]</font>, overlays<font color="#909090">=[]</font>, **kw)</dt><dd><tt>show&nbsp;graphs,&nbsp;with&nbsp;specified&nbsp;graph&nbsp;attributes&nbsp;as&nbsp;well<br>
as&nbsp;plot&nbsp;attributes.&nbsp;&nbsp;In&nbsp;summary,&nbsp;<br>
&nbsp;<br>
&nbsp;&nbsp;g.<a href="#smart_gnuplotter-graphs">graphs</a>(expr,&nbsp;...)<br>
&nbsp;<br>
is&nbsp;a&nbsp;shortcut&nbsp;for:<br>
&nbsp;<br>
&nbsp;&nbsp;g.set_graph_attr(...)<br>
&nbsp;&nbsp;g.<a href="#smart_gnuplotter-add_plots">add_plots</a>(expr,&nbsp;...)<br>
&nbsp;&nbsp;g.<a href="#smart_gnuplotter-show_graphs">show_graphs</a>()<br>
&nbsp;<br>
You&nbsp;may&nbsp;give&nbsp;to&nbsp;graphs&nbsp;all&nbsp;parameters&nbsp;accepted&nbsp;by<br>
set_graph_attrs&nbsp;or&nbsp;add_plots.&nbsp;&nbsp;Parameters&nbsp;accepted&nbsp;by<br>
set_graph_attrs&nbsp;and&nbsp;paramters&nbsp;specified&nbsp;in&nbsp;the&nbsp;'graph_vars'<br>
are&nbsp;given&nbsp;to&nbsp;set_graph_attr.&nbsp;Other&nbsp;parameters&nbsp;are&nbsp;given&nbsp;to<br>
add_plots.&nbsp;&nbsp;See&nbsp;the&nbsp;documentation&nbsp;of&nbsp;the&nbsp;above&nbsp;two<br>
methods&nbsp;for&nbsp;details.</tt></dd></dl>

<dl><dt><a name="smart_gnuplotter-set_graph_attrs"><strong>set_graph_attrs</strong></a>(self, **kw)</dt><dd><tt>This&nbsp;method&nbsp;sets&nbsp;the&nbsp;attribute&nbsp;of&nbsp;the&nbsp;graphs&nbsp;that&nbsp;will<br>
be&nbsp;drawn&nbsp;by&nbsp;the&nbsp;next&nbsp;call&nbsp;to&nbsp;<a href="#smart_gnuplotter-show_graphs">show_graphs</a>().&nbsp;&nbsp;For&nbsp;example,<br>
&nbsp;<br>
g&nbsp;=&nbsp;<a href="#smart_gnuplotter">smart_gnuplotter</a>()<br>
g.<a href="#smart_gnuplotter-set_graph_attrs">set_graph_attrs</a>(graph_title="my&nbsp;graph",&nbsp;xrange="[-2:2]")<br>
g.<a href="#smart_gnuplotter-add_plots">add_plots</a>(...)<br>
g.<a href="#smart_gnuplotter-show_graphs">show_graphs</a>()<br>
&nbsp;<br>
will&nbsp;generate&nbsp;a&nbsp;graph&nbsp;whose&nbsp;title&nbsp;is&nbsp;"my&nbsp;graph"&nbsp;and&nbsp;xrange<br>
is&nbsp;[-2:2].&nbsp;&nbsp;As&nbsp;you&nbsp;might&nbsp;have&nbsp;imagined,&nbsp;most&nbsp;attributes&nbsp;are<br>
simply&nbsp;translated&nbsp;into&nbsp;a&nbsp;corresponding&nbsp;gnuplot&nbsp;'set'&nbsp;command.<br>
&nbsp;<br>
These&nbsp;attributes&nbsp;may&nbsp;be&nbsp;parameterized;&nbsp;in&nbsp;other&nbsp;words,&nbsp;they&nbsp;<br>
may&nbsp;contain&nbsp;placeholders&nbsp;such&nbsp;as&nbsp;%(a)s,&nbsp;%(b)s,&nbsp;etc.,&nbsp;in&nbsp;which<br>
case&nbsp;you&nbsp;also&nbsp;need&nbsp;to&nbsp;supply&nbsp;possible&nbsp;values&nbsp;for&nbsp;them.<br>
The&nbsp;following&nbsp;is&nbsp;a&nbsp;valid&nbsp;parameterization.<br>
&nbsp;<br>
g.<a href="#smart_gnuplotter-set_graph_attrs">set_graph_attrs</a>(graph_title="graph&nbsp;(a=%(a)s)",&nbsp;a=[1,2,3])<br>
&nbsp;<br>
This&nbsp;will&nbsp;generate&nbsp;three&nbsp;graphs&nbsp;(one&nbsp;for&nbsp;a=1,&nbsp;another&nbsp;for&nbsp;a=2,<br>
and&nbsp;the&nbsp;other&nbsp;for&nbsp;a=3).&nbsp;&nbsp;The&nbsp;title&nbsp;of&nbsp;each&nbsp;of&nbsp;the&nbsp;three&nbsp;graphs<br>
will&nbsp;be&nbsp;"graph&nbsp;(a=1)",&nbsp;"graph&nbsp;(a=2)",&nbsp;and&nbsp;"graph&nbsp;(a=3)",<br>
respectively.<br>
&nbsp;<br>
The&nbsp;following&nbsp;is&nbsp;the&nbsp;attributes&nbsp;direcly&nbsp;supported&nbsp;by&nbsp;keyword<br>
arguments&nbsp;and&nbsp;their&nbsp;meanings.&nbsp;Most&nbsp;of&nbsp;them&nbsp;have&nbsp;obvious&nbsp;<br>
counterpart&nbsp;in&nbsp;gnuplot's&nbsp;'set'&nbsp;command<br>
&nbsp;<br>
terminal&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;terminal&nbsp;specification<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(e.g.,&nbsp;"png",&nbsp;"postscript",&nbsp;"epslatex&nbsp;color&nbsp;size&nbsp;10cm,4cm")<br>
output&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;output&nbsp;filename<br>
graph_title&nbsp;:&nbsp;title&nbsp;of&nbsp;the&nbsp;graph<br>
xrange&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;xrange&nbsp;of&nbsp;the&nbsp;graph<br>
yrange&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;yrange&nbsp;of&nbsp;the&nbsp;graph<br>
xlabel&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;xlabel&nbsp;of&nbsp;the&nbsp;graph<br>
ylabel&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;ylabel&nbsp;of&nbsp;the&nbsp;graph<br>
boxwidth&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;boxwidth,&nbsp;meaningful&nbsp;only&nbsp;when&nbsp;you&nbsp;use&nbsp;boxes&nbsp;style&nbsp;for&nbsp;plots<br>
pause&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;pause&nbsp;after&nbsp;you&nbsp;show&nbsp;a&nbsp;graph&nbsp;on&nbsp;display.&nbsp;meaningful&nbsp;only&nbsp;when<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;terminal&nbsp;is&nbsp;a&nbsp;display&nbsp;("wxt",&nbsp;"x11",&nbsp;or&nbsp;"xterm")<br>
plot&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;either&nbsp;"plot"&nbsp;or&nbsp;"splot",&nbsp;depending&nbsp;on&nbsp;you&nbsp;perfom&nbsp;2d&nbsp;plot&nbsp;or<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3d&nbsp;plot<br>
save_gpl&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;0&nbsp;or&nbsp;1.&nbsp;if&nbsp;1,&nbsp;a&nbsp;temporary&nbsp;file&nbsp;to&nbsp;which&nbsp;gnuplot&nbsp;commands&nbsp;are<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;written&nbsp;will&nbsp;not&nbsp;be&nbsp;deleted.&nbsp;useful&nbsp;for&nbsp;diagnosis.<br>
gpl_file&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;name&nbsp;of&nbsp;the&nbsp;temporary&nbsp;filename&nbsp;to&nbsp;which&nbsp;gnuplot&nbsp;commands&nbsp;are<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;written.&nbsp;if&nbsp;specified,&nbsp;it&nbsp;implies&nbsp;save_gpl=1<br>
&nbsp;<br>
To&nbsp;set&nbsp;other&nbsp;attributes&nbsp;supported&nbsp;by&nbsp;gnuplot,&nbsp;you&nbsp;may&nbsp;use&nbsp;parameter&nbsp;<br>
'graph_attr'<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
graph_attr&nbsp;&nbsp;:&nbsp;any&nbsp;string&nbsp;that&nbsp;is&nbsp;given&nbsp;to&nbsp;gnuplot&nbsp;before&nbsp;the&nbsp;plot&nbsp;command<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;issued.&nbsp;you&nbsp;may&nbsp;write&nbsp;any&nbsp;valid&nbsp;gnuplot&nbsp;command.<br>
&nbsp;<br>
Automatic&nbsp;extension&nbsp;of&nbsp;the&nbsp;output:&nbsp;for&nbsp;typical&nbsp;terminal&nbsp;types,<br>
the&nbsp;filename&nbsp;you&nbsp;give&nbsp;to&nbsp;the&nbsp;output&nbsp;parameter&nbsp;is&nbsp;automatically<br>
extended&nbsp;with&nbsp;a&nbsp;proper&nbsp;extension.&nbsp;&nbsp;For&nbsp;example,&nbsp;if&nbsp;you&nbsp;say&nbsp;output="foo"<br>
and&nbsp;terminal="postscript",&nbsp;you&nbsp;actually&nbsp;get&nbsp;foo.eps.<br>
It&nbsp;is&nbsp;particularly&nbsp;convenient&nbsp;when&nbsp;you&nbsp;switch&nbsp;from&nbsp;one&nbsp;terminal&nbsp;<br>
to&nbsp;another;&nbsp;you&nbsp;normally&nbsp;do&nbsp;not&nbsp;have&nbsp;to&nbsp;change&nbsp;output&nbsp;parameter.<br>
Currently,&nbsp;the&nbsp;following&nbsp;is&nbsp;the&nbsp;list&nbsp;of&nbsp;terminal&nbsp;types&nbsp;and&nbsp;their<br>
associated&nbsp;extensions&nbsp;(I&nbsp;may&nbsp;have&nbsp;gotten&nbsp;some&nbsp;of&nbsp;them&nbsp;wrong;&nbsp;corrections<br>
are&nbsp;welcome).<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;epslatex&nbsp;:&nbsp;.tex<br>
&nbsp;&nbsp;&nbsp;&nbsp;latex&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;.tex<br>
&nbsp;&nbsp;&nbsp;&nbsp;fig&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;.tex<br>
&nbsp;&nbsp;&nbsp;&nbsp;texdraw&nbsp;&nbsp;:&nbsp;.tex<br>
&nbsp;&nbsp;&nbsp;&nbsp;pslatex&nbsp;&nbsp;:&nbsp;.tex<br>
&nbsp;&nbsp;&nbsp;&nbsp;pstex&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;.tex<br>
&nbsp;&nbsp;&nbsp;&nbsp;postscript&nbsp;:&nbsp;.eps<br>
&nbsp;&nbsp;&nbsp;&nbsp;jpeg&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;.jpg<br>
&nbsp;&nbsp;&nbsp;&nbsp;svg&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;.svg<br>
&nbsp;&nbsp;&nbsp;&nbsp;gif&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;.gif<br>
&nbsp;&nbsp;&nbsp;&nbsp;png&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;.png</tt></dd></dl>

<dl><dt><a name="smart_gnuplotter-show_graphs"><strong>show_graphs</strong></a>(self)</dt><dd><tt>show&nbsp;in&nbsp;display&nbsp;or&nbsp;generate&nbsp;files&nbsp;of&nbsp;the&nbsp;graphs,&nbsp;specified&nbsp;by<br>
prior&nbsp;calls&nbsp;to&nbsp;set_graph_attrs&nbsp;and&nbsp;add_plots.</tt></dd></dl>

</td></tr></table></td></tr></table>
</body></html>